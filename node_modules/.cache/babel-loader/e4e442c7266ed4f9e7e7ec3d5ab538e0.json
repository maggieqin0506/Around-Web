{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/maggie/Documents/Projects/Around-Web/src/components/Login.js\";\nimport React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../constants\";\n\nfunction Login(props) {\n  const {\n    handleLoggedIn\n  } = props;\n\n  const onFinish = values => {\n    const {\n      username,\n      password\n    } = values;\n    const opt = {\n      method: \"POST\",\n      url: `${BASE_URL}/signin`,\n      data: {\n        username: username,\n        password: password\n      },\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    axios(opt).then(res => {\n      if (res.status === 200) {\n        const {\n          data\n        } = res;\n        handleLoggedIn(data);\n        message.success(\"Login succeed! \");\n      }\n    }).catch(err => {\n      console.log(\"login failed: \", err.message);\n      message.error(\"Login failed!\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    name: \"normal_login\",\n    className: \"login-form\",\n    onFinish: onFinish,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"username\",\n      rules: [{\n        required: true,\n        message: \"Please enter your Username!\"\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n          className: \"site-form-item-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }, this),\n        placeholder: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"password\",\n      rules: [{\n        required: true,\n        message: \"Please enter your Password!\"\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n          className: \"site-form-item-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this),\n        type: \"password\",\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), \"Or \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"register \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }, this), \"now!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/maggie/Documents/Projects/Around-Web/src/components/Login.js"],"names":["React","Form","Input","Button","message","UserOutlined","LockOutlined","Link","axios","BASE_URL","Login","props","handleLoggedIn","onFinish","values","username","password","opt","method","url","data","headers","then","res","status","success","catch","err","console","log","error","required"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { BASE_URL } from \"../constants\";\n\nfunction Login(props) {\n    const { handleLoggedIn } = props;\n\n    const onFinish = (values) => {\n        const { username, password } = values;\n        const opt = {\n            method: \"POST\",\n            url: `${BASE_URL}/signin`,\n            data: {\n                username: username,\n                password: password\n            },\n            headers: { \"Content-Type\": \"application/json\" }\n        };\n        axios(opt)\n            .then((res) => {\n                if (res.status === 200) {\n                    const { data } = res;\n                    handleLoggedIn(data);\n                    message.success(\"Login succeed! \");\n                }\n            })\n            .catch((err) => {\n                console.log(\"login failed: \", err.message);\n                message.error(\"Login failed!\");\n            });\n    };\n    return (\n        <Form name=\"normal_login\" className=\"login-form\" onFinish={onFinish}>\n            <Form.Item\n                name=\"username\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please enter your Username!\"\n                    }\n                ]}\n            >\n                <Input\n                    prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                    placeholder=\"Username\"\n                />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please enter your Password!\"\n                    }\n                ]}\n            >\n                <Input\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                    type=\"password\"\n                    placeholder=\"Password\"\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                    Log in\n                </Button>\n                Or <Link to=\"/register\">register </Link>now!\n            </Form.Item>\n        </Form>\n    );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}